{% comment %}
  Product Customizer Block
  Add this block to your product template to enable customization
{% endcomment %}

<div class="product-customizer-block">
  {% comment %}
    Use modern snippet for newer themes, legacy for older themes
    The modern snippet has better support for Horizons 2025 themes
  {% endcomment %}
  {% assign use_modern = settings.use_modern_snippet | default: true %}
  {% if use_modern %}
    {% render 'product-customizer-modern', product: product %}
  {% else %}
    {% render 'product-customizer', product: product %}
  {% endif %}
</div>

{% schema %}
{
  "name": "Product Customizer",
  "target": "section",
  "templates": ["product"],
  "settings": [
    {
      "type": "checkbox",
      "id": "use_modern_snippet",
      "label": "Use modern theme support",
      "info": "Enable this for Horizons 2025 themes like Tinker",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_preview",
      "label": "Show preview thumbnail",
      "default": true
    },
    {
      "type": "select",
      "id": "button_style",
      "label": "Button style",
      "options": [
        {
          "value": "primary",
          "label": "Primary"
        },
        {
          "value": "secondary",
          "label": "Secondary"
        },
        {
          "value": "outline",
          "label": "Outline"
        }
      ],
      "default": "secondary"
    }
  ]
}
{% endschema %}